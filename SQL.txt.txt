CREATE TABLE klient
(
  id serial NOT NULL  PRIMARY KEY,
  imie text,
  nazwisko text,
  email text,
  login text,
  cdate date DEFAULT now()
)
WITH (
  OIDS=FALSE
);
ALTER TABLE klient OWNER TO postgres;

create table grupy_treningowe(
id serial NOT NULL  PRIMARY KEY,
owner_id integer REFERENCES klient (id),
nazwa text,
cdate date default now()
);


CREATE TABLE event
(
  id serial unique NOT NULL,
  klient_id integer,
  tytul text,
  czycalydzien boolean default false,
  czypubliczne boolean default true,
  dataod date,
  datado date,
  przesuniecie text,
  typ_przesuniecia integer,
  cdate date DEFAULT now(),
  mdate date DEFAULT now(),
  CONSTRAINT event_pkey PRIMARY KEY (id),
  CONSTRAINT eventklient_id_fkey FOREIGN KEY (klient_id) REFERENCES klient (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);

ALTER TABLE klient ADD COLUMN "password" text;


create table workouts(
id serial unique not null,
title text,
date_from date,
date_to date,
date_shift text,
shit_type text,
gmap_cords text,
is_allday boolean default false,
is_public boolean default false,
keywords  text,
is_toremind boolean default false,
cuser integer,
cdate date default now(),
mdate date default now(),
CONSTRAINT workouts_pkey PRIMARY KEY (id)
)
